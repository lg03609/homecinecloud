define(["exports","./basetab.js","./../modules/cardbuilder/cardbuilder.js","./../modules/common/playback/playbackmanager.js","./../modules/layoutmanager.js"],function(_exports,_basetab,_cardbuilder,_playbackmanager,_layoutmanager){function enableSideFooterLayout(){return _layoutmanager.default.tv}function PeopleTab(view){_basetab.default.apply(this,arguments)}Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.default=void 0,Object.assign(PeopleTab.prototype,_basetab.default.prototype),PeopleTab.prototype.loadTemplate=function(){var view=this.view,itemsContainerClass="itemsContainer";return enableSideFooterLayout()&&(itemsContainerClass+="  itemsContainer-sideFooters"),view.innerHTML='\n                    <div is="emby-scroller" data-mousewheel="false" data-centerfocus="true" class="padded-top-focusscale padded-bottom-focusscale">\n                        <div is="emby-itemscontainer" class="'+itemsContainerClass+' scrollSlider videoosd-padded-left videoosd-padded-right" data-virtualscrolllayout="horizontal-grid"></div>\n                    </div>\n',this.itemsContainer=view.querySelector(".itemsContainer"),this.itemsContainer.fetchData=function(query){var item=this.currentOptions.displayItem,serverId=item.ServerId,totalRecordCount=(item=(item.People||[]).filter(function(p){return p.ServerId=serverId,"Person"!==p.Type&&(p.PersonType=p.Type,p.Type="Person"),!0})).length;return query&&(item=item.slice(query.StartIndex||0),query.Limit&&item.length>query.Limit&&(item.length=query.Limit)),Promise.resolve({Items:item,TotalRecordCount:totalRecordCount})}.bind(this),this.itemsContainer.getListOptions=function(items){var cardLayout=enableSideFooterLayout();return{renderer:_cardbuilder.default,options:{shape:"portrait",cardLayout:cardLayout,centerText:!cardLayout,sideFooter:cardLayout,fields:["Name","PersonRole"],cardFooterAside:!1,showPersonRoleOrType:!0,multiSelect:!1,coverImage:!0,draggable:!1,overlayText:!1,contextMenu:!1,playedButton:!1,ratingButton:!1,cardClass:"videoOsd-itemstab-card videoOsd-itemstab-card-twoline",action:"none",enableUserData:!1,allowBottomPadding:!1,textLinks:!1,imageClass:cardLayout?"videoOsd-cardImageContainer-sideFooter":null},virtualScrollLayout:"horizontal-grid"}}.bind(this),Promise.resolve()},PeopleTab.prototype.onResume=function(options){var instance=this;return _basetab.default.prototype.onResume.apply(this,arguments).then(function(){return instance.itemsContainer.resume(options)})},PeopleTab.prototype.onPause=function(){_basetab.default.prototype.onPause.apply(this,arguments),this.itemsContainer.pause()},PeopleTab.prototype.destroy=function(){_basetab.default.prototype.destroy.apply(this,arguments),this.itemsContainer=null},_exports.default=PeopleTab});